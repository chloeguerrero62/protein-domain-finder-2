# Protein Domain Finder 2

## Quick Start: Run the Protein Domain Classification Pipeline

This repository provides reproducible pipelines for protein domain partitioning given 3D structure data. 
You can perform the entire clustering and evaluation workflow using the Jupyter notebook included in the repository.

### 1. Setup

- Ensure you have Python 3.8+.
- [Install requirements](#dependencies) (see below).
- **Recommended:** Clone the repo and open the notebook in the root directory.

```bash
git clone https://github.com/chloeguerrero62/protein-domain-finder-2.git
cd protein-domain-finder-2
pip install -r requirements.txt
```

### 2. Running the Whole Pipeline

- Open `protein_domain_workflow.ipynb` with Jupyter Notebook or JupyterLab:

```bash
jupyter notebook protein_domain_workflow.ipynb
# or
jupyter lab protein_domain_workflow.ipynb
```

The notebook will:
1. Download example PDB structures
2. Compute residue distance matrices
3. Run Louvain & spectral clustering methods
4. Evaluate accuracy and visualize results

> **You must have the `src/` directory present for the notebook to work.**

### 3. Data

The sample workflow uses:
- `data/pdb_clustering/selected_proteins_mmseqs2.csv` (lists ~144 proteins, chains, domain counts, etc.)
- PDB structure files are downloaded automatically as needed
- Intermediate files (distance matrices, labels, etc.) are generated by the notebook

---

## Dependencies

- Python >= 3.8
- numpy
- pandas
- matplotlib
- seaborn
- scikit-learn
- tqdm
- biopython
- networkx

Install via:

```bash
pip install -r requirements.txt
```

---

## Legacy Dataset Preparation (Optional)

The repository previously included scripts and workflows for large-scale dataset curation, using MMseqs2 and third-party data. You **do not need to run these to use the notebook or main pipeline**. All main pipeline analyses assume preselected example proteins are available (in `data/pdb_clustering/selected_proteins_mmseqs2.csv`).

---

## File Structure

- `src/` — Main source code (imported in notebook)
- `data/` — Sample CSV and generated outputs
- `protein_domain_workflow.ipynb` — Main notebook
- `requirements.txt` — Dependencies

---

## Troubleshooting

If you get `ModuleNotFoundError: No module named 'src'`, make sure:
- The notebook is in the repository root.
- You have all modules in the `src/` folder.

If a dataset file is missing (e.g., `selected_proteins_mmseqs2.csv`), download the example or generate it as per instructions above.

---

## Citation

[Instructions/format for citing your research, if relevant]
